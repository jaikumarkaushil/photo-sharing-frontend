"use strict";(self.webpackChunkinstagram_clone=self.webpackChunkinstagram_clone||[]).push([[445],{8445:function(e,s,r){r.r(s),r.d(s,{default:function(){return ve}});var n=r(885),t=r(2791),a=r(6871),l=r(1363),i=r(7283),c=r(184);function o(e){var s=e.open,r=e.setOpen,n=e.title,a=e.size,o=e.share,d=e.isFileDropped,x=(0,t.useRef)(null);return(0,c.jsx)(i.uT.Root,{show:s,as:t.Fragment,children:(0,c.jsxs)(i.Vq,{as:"div",className:"fixed z-50 flex items-center justify-center inset-0 overflow-y-auto",initialFocus:x,onClose:r,children:[(0,c.jsx)(i.Vq.Overlay,{className:"fixed inset-0 bg-neutral-800 bg-opacity-95 transition-opacity"}),(0,c.jsx)("a",{href:"#",className:"absolute right-6 top-4 text-white text-2xl",onClick:function(){return r(!1)},children:(0,c.jsx)(l.G,{icon:"x"})}),(0,c.jsx)(i.uT.Child,{as:t.Fragment,enter:"ease-out duration-100",enterFrom:"opacity-0 sm:scale-150",enterTo:"opacity-100 sm:scale-100",children:(0,c.jsxs)("div",{className:"flex items-center justify-center bg-white overflow-hidden shadow-xl transform transition-all align-middle sm:w-full ".concat(n?"pt-10":""," ").concat(function(e){var s="";switch(e){case"xs":s="h-fit sm:max-w-md rounded-lg";break;case"lg":s="h-5/6 max-h-[52rem] sm:max-w-6xl rounded-md rounded-l-none";break;default:s="h-4/5 sm:max-w-screen-md rounded-lg"}return s}(a)),children:[n&&(0,c.jsxs)("div",{className:"absolute top-0 w-full text-center border-b py-2 font-semibold",children:[(0,c.jsx)(i.Vq.Title,{className:"inline-block",children:n}),o&&d()&&(0,c.jsx)("a",{href:"#",className:"absolute right-5 text-sky-500",onClick:o,children:"Share"})]}),(0,c.jsx)("div",{className:"w-full h-full",children:e.children})]})})]})})}var d,x=r(5861),m=r(7757),u=r.n(m),h=r(168),f=r(6320),p=(0,f.Ps)(d||(d=(0,h.Z)(["\n  {\n    me {\n      _id\n      fullName\n      userName\n      email\n      profileImage # image to profileImage\n      isActive\n      isPrivate\n      lastLogin\n      lastLogout\n      posts {\n        _id\n        imageURL\n        likes\n        postLikes {\n        _id\n        idPost\n        createdAt\n        updatedAt\n      }\n      comments {\n        _id\n        idPost\n        comment\n        createdAt\n        updatedAt\n      }\n        createdAt\n        updatedAt\n      }\n      totalPosts\n      totalFollowers\n      totalFollowing\n    }\n  }\n"]))),j=function(){var e=(0,x.Z)(u().mark((function e(s,r,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n();case 3:localStorage.removeItem("token"),s.clearStore(),r("/accounts/login"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("error:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(s,r,n){return e.apply(this,arguments)}}(),g=function(){for(var e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return s.filter(Boolean).join(" ")},N=function(e,s){return s.length&&s.filter((function(s){return parseInt(s.idUser)===parseInt(e)})).length};function b(e){var s=e.post,r=e.open,n=e.setOpen,t=e.currentUserId;return s&&(0,c.jsx)(o,{open:r,setOpen:n,size:"lg",children:(0,c.jsxs)("div",{className:"flex flex-row h-full",children:[(0,c.jsx)("div",{className:"w-3/5",children:(0,c.jsx)("img",{src:s.image,className:""})}),(0,c.jsxs)("div",{className:"w-2/5 relative pt-16",children:[(0,c.jsxs)("div",{className:"absolute top-0 w-full p-3 flex flex-row border-b",children:[(0,c.jsx)("div",{className:"flex-1",children:(0,c.jsxs)("a",{href:"",className:"",children:[(0,c.jsx)("img",{className:"rounded-full w-8 max-w-none inline",src:s.user.profileImage})," ",(0,c.jsx)("span",{className:"font-medium text-sm ml-2",children:s.user.userName})]})}),(0,c.jsx)("div",{className:"",children:(0,c.jsx)("a",{className:"",href:"",children:(0,c.jsx)(l.G,{icon:"ellipsis"})})})]}),(0,c.jsxs)("div",{className:"overflow-scroll h-full pb-48",children:[(0,c.jsxs)("div",{className:"flex flex-row p-3",children:[(0,c.jsx)("div",{children:(0,c.jsx)("img",{className:"rounded-full w-8 inline max-w-none",src:s.user.profileImage})}),(0,c.jsx)("div",{className:"",children:(0,c.jsxs)("div",{className:"px-3 text-sm",children:[(0,c.jsx)("span",{className:"font-medium mr-2",children:s.user.userName}),s.caption]})})]}),s.comments&&s.comments.map((function(e,s){return(0,c.jsxs)("div",{className:"flex flex-row p-3",children:[(0,c.jsx)("div",{className:"",children:(0,c.jsx)("img",{className:"rounded-full w-8 inline max-w-none",src:e.userImage})}),(0,c.jsxs)("div",{className:"grow relative",children:[(0,c.jsxs)("div",{className:"px-4 text-sm",children:[(0,c.jsx)("span",{className:"font-medium mr-2",children:e.userName}),e.comment]}),(0,c.jsx)("a",{className:"absolute top-0 right-0 block float-right text-xs cursor-pointer ".concat(e.isLiked?"text-red-600":""),children:(0,c.jsx)(l.G,{icon:[e.isLiked?"fas":"far","heart"]})})]})]},e._id)}))]}),(0,c.jsxs)("div",{className:"absolute bottom-0 w-full border-t bg-white",children:[(0,c.jsxs)("div",{className:"header p-3 flex flex-row text-2xl w-full",children:[(0,c.jsxs)("div",{className:"flex-1 ",children:[(0,c.jsx)("a",{className:"mr-3 cursor-pointer ".concat(N(t,s.postLikes)?"text-red-600":""),children:(0,c.jsx)(l.G,{icon:[N(t,s.postLikes)?"fas":"far","heart"]})}),(0,c.jsx)("a",{className:"mr-3 cursor-pointer",children:(0,c.jsx)(l.G,{icon:["far","comment"]})}),(0,c.jsx)("a",{className:"cursor-pointer",children:(0,c.jsx)(l.G,{icon:["far","paper-plane"]})})]}),(0,c.jsx)("div",{className:"",children:(0,c.jsx)("a",{className:"cursor-pointer",children:(0,c.jsx)(l.G,{icon:["far","bookmark"]})})})]}),(0,c.jsxs)("div",{className:"font-medium text-sm px-3",children:[s.likes," likes"]}),(0,c.jsx)("div",{className:"text-gray-500 uppercase px-3 text-xs tracking-wide my-3",children:s.date}),(0,c.jsxs)("div",{className:"p-3 flex flex-row border-t",children:[(0,c.jsx)("div",{className:"flex items-center",children:(0,c.jsx)("a",{className:"text-2xl",href:"#",children:(0,c.jsx)(l.G,{icon:["far","face-smile"]})})}),(0,c.jsx)("div",{className:"flex-1 pr-3 py-1",children:(0,c.jsx)("input",{className:"w-full px-3 py-1 text-sm outline-0",type:"text",placeholder:"Add a comment..."})}),(0,c.jsx)("div",{className:"flex items-center text-sm",children:(0,c.jsx)("a",{className:"text-sky-500 font-medium",href:"#",children:"Post"})})]})]})]})]})})}function v(e){var s=(0,t.useState)(!1),r=(0,n.Z)(s,2),a=r[0],i=r[1],o=e.image,d=e.showCurrentPost;return(0,c.jsxs)("div",{className:"relative overflow-hidden w-full pt-[100%]",onMouseEnter:function(){return i(!0)},children:[(0,c.jsx)("a",{href:"#",onClick:function(){d()},children:(0,c.jsxs)("div",{className:"bg-gray-800 bg-opacity-60 h-full w-full absolute inset-0 z-10 flex items-center justify-center text-white ".concat(a?"":"hidden"),onMouseLeave:function(){return i(!1)},children:[(0,c.jsx)(l.G,{icon:"heart"})," ",(0,c.jsx)("span",{className:"ml-2",children:"200"}),(0,c.jsx)(l.G,{icon:"comment",className:"ml-8"})," ",(0,c.jsx)("span",{className:"ml-2",children:"200"})]})}),(0,c.jsx)("img",{src:o,className:"absolute inset-0 object-cover w-full h-full"})]})}function w(){return(0,c.jsxs)("div",{className:"flex flex-row p-2 content-center mb-8 space-x-2 md:space-x-10 text-sm font-semibold w-full overflow-scroll",children:[(0,c.jsx)("div",{className:"story w-14  md:w-14 md:w-full",children:(0,c.jsxs)("a",{href:"#",children:[(0,c.jsx)("div",{className:"border p-1 rounded-full",children:(0,c.jsx)("img",{className:"rounded-full",src:"images/highlight-twitter.png",width:"80"})}),(0,c.jsx)("div",{className:"text-center overflow-hidden text-ellipsis ",children:"Twitter"})]})}),(0,c.jsx)("div",{className:"story w-14  md:w-14 md:w-full ",children:(0,c.jsxs)("a",{href:"#",children:[(0,c.jsx)("div",{className:"border p-1 rounded-full",children:(0,c.jsx)("img",{className:"rounded-full",src:"images/highlight-youtube.png",width:"80"})}),(0,c.jsx)("div",{className:"text-center overflow-hidden text-ellipsis ",children:"Youtube"})]})}),(0,c.jsx)("div",{className:"story w-14  md:w-14 md:w-full ",children:(0,c.jsxs)("a",{href:"#",children:[(0,c.jsx)("div",{className:"border p-1 rounded-full",children:(0,c.jsx)("img",{className:"rounded-full",src:"images/highlight-facebook.png",width:"80"})}),(0,c.jsx)("div",{className:"w-full",children:(0,c.jsx)("div",{className:"text-center overflow-hidden text-ellipsis",children:"Facebook"})})]})}),(0,c.jsx)("div",{className:"story w-14  md:w-14 md:w-full ",children:(0,c.jsxs)("a",{href:"#",children:[(0,c.jsx)("div",{className:"border p-1 rounded-full",children:(0,c.jsx)("img",{className:"rounded-full",src:"images/highlight-gaming.png",width:"80"})}),(0,c.jsx)("div",{className:"text-center  overflow-hidden text-ellipsis ",children:"Gaming"})]})}),(0,c.jsx)("div",{className:"story w-14  md:w-14 md:w-full ",children:(0,c.jsxs)("a",{href:"#",children:[(0,c.jsx)("div",{className:"border p-1 rounded-full",children:(0,c.jsx)("img",{className:"rounded-full",src:"images/highlight-music.png",width:"80"})}),(0,c.jsx)("div",{className:"text-center  overflow-hidden text-ellipsis ",children:"Music"})]})}),(0,c.jsx)("div",{className:"story w-14  md:w-14 md:w-full ",children:(0,c.jsxs)("a",{href:"#",children:[(0,c.jsx)("div",{className:"border p-1 rounded-full",children:(0,c.jsx)("img",{className:"rounded-full",src:"images/highlight-setup.png",width:"80"})}),(0,c.jsx)("div",{className:"text-center  overflow-hidden text-ellipsis ",children:"Setup"})]})}),(0,c.jsx)("div",{className:"story w-14  md:w-14 md:w-full ",children:(0,c.jsxs)("a",{href:"#",children:[(0,c.jsx)("div",{className:"border p-1 rounded-full",children:(0,c.jsx)("img",{className:"rounded-full",src:"images/highlight-food.png",width:"80"})}),(0,c.jsx)("div",{className:"text-center  overflow-hidden text-ellipsis ",children:"Food"})]})}),(0,c.jsx)("div",{className:"story w-14  md:w-14 md:w-full ",children:(0,c.jsxs)("a",{href:"#",children:[(0,c.jsx)("div",{className:"border p-1 rounded-full",children:(0,c.jsx)("img",{className:"rounded-full",src:"images/highlight-movies.png",width:"80"})}),(0,c.jsx)("div",{className:"text-center  overflow-hidden text-ellipsis ",children:"Movies"})]})})]})}function y(){return(0,c.jsx)(l.G,{className:"fa-spin text-gray-400 text-2xl m-3",icon:["fas","spinner"]})}var k=r(3504),S=r(6578);function Z(){return(0,c.jsx)("footer",{className:"py-5 text-center"})}function P(e){var s=(0,t.useState)(!1),r=(0,n.Z)(s,2),a=r[0],i=r[1],o=(0,t.useState)("posts"),d=(0,n.Z)(o,2),x=d[0],m=d[1],u=(0,t.useState)(null),h=(0,n.Z)(u,2),f=h[0],j=h[1],g=(0,S.a)(p),N=g.loading,P=g.error,C=g.data;return N?(0,c.jsx)(y,{}):P?"Error...":(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(b,{open:a,setOpen:i,post:f}),(0,c.jsxs)("main",{className:"bg-zinc-50",children:[(0,c.jsxs)("div",{className:"grid grid-cols-3 mb-10",children:[(0,c.jsx)("div",{className:"bg-green p-3 rounded flex items-start justify-center",children:(0,c.jsx)("img",{className:"rounded-full",src:C.me.profileImage,width:"150"})}),(0,c.jsxs)("div",{className:"bg-green p-3 rounded text-gray-600 col-span-2",children:[(0,c.jsxs)("div",{className:"flex items-center",children:[(0,c.jsx)("h1",{className:"inline-block text-3xl align-bottom block",children:C.me.userName}),(0,c.jsx)(k.rU,{as:"button",to:"/accounts/edit",className:"bg-white ml-3  text-gray-800 font-semibold py-1 px-2 border border-gray-400 rounded text-sm",children:"Edit Profile"}),(0,c.jsx)("a",{className:"ml-3 cursor-pointer",onClick:function(){return e.setIsSettingsModalOpen(!0)},children:(0,c.jsx)(l.G,{icon:"gear",className:"text-2xl leading-6"})})]}),(0,c.jsxs)("div",{className:"flex-row py-5 max-w-sm hidden lg:flex",children:[(0,c.jsxs)("div",{className:"basis-1/2 ",children:[(0,c.jsx)("strong",{children:C.me.totalPosts})," posts"]}),(0,c.jsxs)("div",{className:"basis-1/2",children:[(0,c.jsx)("strong",{className:"mr-1",children:C.me.totalFollowers}),"followers"]}),(0,c.jsxs)("div",{className:"basis-1/2",children:[(0,c.jsx)("strong",{className:"mr-1",children:C.me.totalFollowing}),"following"]})]}),(0,c.jsx)("h3",{className:"font-bold",children:C.me.name}),(0,c.jsx)("div",{className:"whitespace-pre-wrap",children:C.me.bio}),(0,c.jsx)("a",{href:C.me.website,target:"_blank",className:"text-blue-900 font-bold",children:C.me.website})]})]}),(0,c.jsx)(w,{}),(0,c.jsxs)("ul",{className:"flex flex-row p-2 text-sm items-center\tjustify-center border-t text-gray-400 h-16 lg:hidden",children:[(0,c.jsxs)("li",{className:"flex-1 text-center",children:[(0,c.jsx)("b",{className:"text-black block",children:C.me.totalPosts})," ","posts"]}),(0,c.jsxs)("li",{className:"flex-1 text-center",children:[(0,c.jsx)("b",{className:"text-black block",children:C.me.totalFollowers}),"followers"]}),(0,c.jsxs)("li",{className:"flex-1 text-center",children:[(0,c.jsx)("b",{className:"text-black block",children:C.me.totalFollowing}),"following"]})]}),(0,c.jsxs)("div",{className:"flex flex-row text-2xl lg:text-xs items-center justify-center border-t uppercase text-gray-400 tracking-widest h-16",children:[(0,c.jsxs)("a",{className:"".concat("posts"===x?"text-black border-t border-black":""," flex justify-center items-center h-full mr-16 cursor-pointer"),onClick:function(){return m("posts")},children:[(0,c.jsx)(l.G,{icon:"table-cells"}),(0,c.jsx)("span",{className:"hidden lg:inline-block ml-2",children:"Posts"})]}),(0,c.jsxs)("a",{className:"".concat("reels"===x?"text-black border-t border-black":""," flex justify-center items-center h-full mr-16 cursor-pointer"),onClick:function(){return m("reels")},children:[(0,c.jsx)(l.G,{icon:"play"}),(0,c.jsx)("span",{className:"hidden lg:inline-block ml-2",children:"Reels"})]}),(0,c.jsxs)("a",{className:"".concat("videos"===x?"text-black border-t border-black":""," flex justify-center items-center h-full mr-16 cursor-pointer"),onClick:function(){return m("videos")},children:[(0,c.jsx)(l.G,{icon:["far","circle-play"]}),(0,c.jsx)("span",{className:"hidden lg:inline-block ml-2",children:"Videos"})]}),(0,c.jsxs)("a",{className:"".concat("saved"===x?"text-black border-t border-black":""," flex justify-center items-center h-full mr-16 cursor-pointer"),onClick:function(){return m("saved")},children:[(0,c.jsx)(l.G,{icon:["far","bookmark"]}),(0,c.jsx)("span",{className:"hidden lg:inline-block ml-2",children:"Saved"})]}),(0,c.jsxs)("a",{className:"".concat("tagged"===x?"text-black border-t border-black":""," flex justify-center items-center h-full mr-16 cursor-pointer"),onClick:function(){return m("tagged")},children:[(0,c.jsx)(l.G,{icon:"user-tag"}),(0,c.jsx)("span",{className:"hidden lg:inline-block ml-2",children:"Tagged"})]})]}),(0,c.jsx)("div",{className:"grid grid-cols-3 gap-1 lg:gap-8",children:C.me.posts.map((function(e){return(0,c.jsx)(v,{showCurrentPost:function(){return function(e){j(e),i(!0)}(e)},image:e.image},e.id)}))})]}),(0,c.jsx)(Z,{})]})}function C(e){var s=(0,a.TH)().pathname;return(0,c.jsxs)("div",{className:"border flex flex-row bg-white min-h-[80vh]",children:[(0,c.jsx)("div",{className:"w-1/4 border-r ",children:(0,c.jsxs)("ul",{children:[(0,c.jsx)("li",{children:(0,c.jsx)(k.rU,{className:"block cursor-pointer p-4 px-8 ".concat("/accounts/edit"===s?"font-bold border-l-2 border-l-black":""),to:"edit",children:"Edit Profile"})}),(0,c.jsx)("li",{children:(0,c.jsx)(k.rU,{className:"block cursor-pointer p-4 px-8 ".concat("/accounts/password"===s?"font-bold border-l-2 border-l-black":""),to:"password",children:"Change Password"})}),(0,c.jsx)("li",{children:(0,c.jsx)("a",{className:"block cursor-pointer p-5 px-8",children:"Help"})})]})}),(0,c.jsx)("div",{className:"w-3/4 p-10",children:(0,c.jsx)(a.j3,{})})]})}var I,G=r(4376),U=(0,f.Ps)(I||(I=(0,h.Z)(["\n    mutation authMutation($email: String!, $password: String!) {\n        authUser(email: $email, password: $password){\n            token\n        }\n    }\n"])));function $(e){var s=(0,t.useState)(""),r=(0,n.Z)(s,2),l=r[0],i=r[1],o=(0,t.useState)(""),d=(0,n.Z)(o,2),m=d[0],h=d[1],f=(0,a.s0)(),p=(0,t.useState)(),j=(0,n.Z)(p,2),g=j[0],N=j[1],b=(0,G.D)(U,{variables:{email:l,password:m}}),v=(0,n.Z)(b,1)[0],w=function(){var e=(0,x.Z)(u().mark((function e(s){var r,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),e.prev=1,e.next=4,v();case 4:r=e.sent,n=r.data,localStorage.setItem("token",n.authUser.token),f("/"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),N(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(s){return e.apply(this,arguments)}}();return(0,c.jsx)("div",{className:"h-screen bg-gray-50 flex flex-col justify-center items-center",children:(0,c.jsxs)("div",{className:"flex flex-column",children:[(0,c.jsx)("div",{className:"pr-10 hidden md:block",children:(0,c.jsx)("img",{src:"/images/react-insta.jpg",width:"550",alt:"phone-img"})}),(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{className:"bg-white border border-gray-300 w-80 pt-10 pb-60 flex items-center flex-col mb-3 relative",children:[(0,c.jsx)("img",{src:"/images/JaiInsta-logo.png",width:"200",height:"100",alt:"logo-img"}),(0,c.jsxs)("form",{className:"mt-8 w-64 flex flex-col",onSubmit:w,children:[(0,c.jsx)("input",{autoFocus:!0,className:"text-xs w-full mb-2 rounded border bg-gray-100 border-gray-300 px-2 py-2 focus:outline-none focus:border-gray-400 active:outline-none",placeholder:"Email",type:"text",value:l,onChange:function(e){return i(e.target.value)}}),(0,c.jsx)("input",{autoFocus:!0,className:"text-xs w-full mb-4 rounded border bg-gray-100 border-gray-300 px-2 py-2 focus:outline-none focus:border-gray-400 active:outline-none",placeholder:"Password",type:"password",value:m,onChange:function(e){return h(e.target.value)}}),(0,c.jsx)("button",{type:"submit",className:"text-sm text-center bg-blue-300 text-white py-1 rounded font-medium",children:"Sign In"})]}),(0,c.jsx)("div",{className:"text-sm text-center text-red-500 absolute bottom-20 px-8 ".concat(g?"":"hidden"),children:"You have entered wrong credentials. Please try again!"})]}),(0,c.jsxs)("div",{className:"bg-white border border-gray-300 text-center w-80 py-4",children:[(0,c.jsx)("span",{className:"text-sm",children:"Don't have an account?"}),(0,c.jsx)("a",{href:"register",className:"text-blue-500 text-sm font-semibold ml-1 cursor-pointer",children:"Sign up"})]})]})]})})}var A,F=r(1413);function L(e){return(0,c.jsx)(o,(0,F.Z)((0,F.Z)({},e),{},{size:"xs",children:(0,c.jsxs)("ul",{className:"w-full text-sm",children:[(0,c.jsx)("li",{children:(0,c.jsx)("a",{href:"#",className:"border-b text-center text-red-600 font-bold py-3 block",children:"Report"})}),(0,c.jsx)("li",{children:(0,c.jsx)("a",{href:"#",className:"border-b text-center text-red-600 font-bold py-3 block",children:"Unfollow"})}),(0,c.jsx)("li",{children:(0,c.jsx)("a",{href:"#",className:"border-b text-center py-3 block",children:"Go to Post"})}),(0,c.jsx)("li",{children:(0,c.jsx)("a",{href:"#",onClick:function(){return e.setOpen(!1)},className:"text-center py-3 block",children:"Cancel"})})]})}))}var D,_,O,E=(0,f.Ps)(A||(A=(0,h.Z)(["\n    mutation addLike($idPost: ID!) {\n        addLike(idPost: $idPost) {\n            message\n            success\n        }\n    }\n"]))),R=(0,f.Ps)(D||(D=(0,h.Z)(["\n    mutation UnlikeMutation($idPost: ID!) {\n        deleteLike(idPost: $idPost) {\n            message\n            success\n        }\n    }\n"]))),z=(0,f.Ps)(_||(_=(0,h.Z)(["\n  query getFeed {\n    getAllPosts {\n        _id\n        user {\n            _id\n            fullName\n            userName\n            email\n            profileImage\n            isActive\n            isPrivate\n        }\n        caption\n        imageURL\n        likes\n        postLikes {\n            idUser\n            idPost\n            createdAt\n            updatedAt\n        }\n        comments {\n            _id\n            idPost\n            idUser\n            userName\n            userImage\n            isLiked\n            comment\n            createdAt\n            updatedAt\n        }\n        createdAt\n        updatedAt\n    }\n  }\n"]))),T=(0,f.Ps)(O||(O=(0,h.Z)(["\n    mutation AddCommentMutation($idPost: ID!, $comment: String!) {\n        addComment(idPost: $idPost, comment: $comment) {\n            message\n            success\n        }\n    }\n"]))),q=r(2426),M=r.n(q);var W,Q,V=function(e){var s=e.id,r=e.currentUserId,a=e.image,i=e.caption,o=e.username,d=e.userImage,m=e.likes,h=e.created_time_ago,f=e.comments,p=e.postLikes,j=e.post,g=(0,t.useState)(!1),v=(0,n.Z)(g,2),w=v[0],y=v[1],k=(0,t.useState)(!1),S=(0,n.Z)(k,2),Z=S[0],P=S[1],C=(0,t.useState)(!1),I=(0,n.Z)(C,2),U=I[0],$=I[1],A=(0,t.useState)(""),F=(0,n.Z)(A,2),D=F[0],_=F[1],O=(0,t.useState)(!1),q=(0,n.Z)(O,2),W=q[0],Q=q[1],V=(0,G.D)(E),B=(0,n.Z)(V,1)[0],J=(0,G.D)(R),Y=(0,n.Z)(J,1)[0],H=(0,G.D)(T),X=(0,n.Z)(H,1)[0],K=function(){var e=(0,x.Z)(u().mark((function e(s){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B({variables:{idPost:s},refetchQueries:[{query:z}]});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("error:",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(s){return e.apply(this,arguments)}}(),ee=function(){var e=(0,x.Z)(u().mark((function e(s){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y({variables:{idPost:s},refetchQueries:[{query:z}]});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("error:",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(s){return e.apply(this,arguments)}}(),se=function(){var e=(0,x.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D){e.next=2;break}return e.abrupt("return");case 2:return Q(!0),e.prev=3,e.next=6,X({variables:{idPost:s,comment:D},refetchQueries:[{query:z}]});case 6:Q(!1),_(""),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log("error:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}();return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(b,{open:U,setOpen:$,post:j,currentUserId:r}),(0,c.jsx)(L,{open:Z,setOpen:P}),(0,c.jsxs)("div",{className:"border border-slate-200 mb-5",children:[(0,c.jsxs)("div",{className:"p-3 flex flex-row",children:[(0,c.jsx)("div",{className:"flex-1",children:(0,c.jsxs)("span",{className:"",children:[(0,c.jsx)("img",{className:"rounded-full w-8 max-w-none inline",src:d,alt:"User Img"})," ",(0,c.jsx)("span",{className:"font-medium text-sm ml-2",children:o})]})}),(0,c.jsx)("div",{className:"",children:(0,c.jsx)("span",{className:"",href:"#",onClick:function(){return P(!0)},children:(0,c.jsx)(l.G,{icon:"ellipsis"})})})]}),(0,c.jsx)("img",{className:"w-100",alt:"Uploaded by ".concat(o),src:a}),(0,c.jsxs)("div",{className:"header p-3 flex flex-row text-2xl",children:[(0,c.jsxs)("div",{className:"flex-1 ",children:[(0,c.jsx)("span",{className:"mr-3 cursor-pointer  ".concat(N(r,p)?"text-red-600":"hover:text-gray-500"),onClick:function(){return N(r,p)?ee(s):K(s)},children:(0,c.jsx)(l.G,{icon:[N(r,p)?"fas":"far","heart"]})}),(0,c.jsx)("span",{className:"mr-3 hover:text-gray-500 cursor-pointer",onClick:function(){return $(!0)},children:(0,c.jsx)(l.G,{icon:["far","comment"]})}),(0,c.jsx)("span",{className:"hover:text-gray-500 cursor-pointer",children:(0,c.jsx)(l.G,{icon:["far","paper-plane"]})})]}),(0,c.jsx)("div",{className:"",children:(0,c.jsx)("span",{className:"cursor-pointer hover:text-gray-500",onClick:function(){return y(!w)},children:(0,c.jsx)(l.G,{icon:[w?"fas":"far","bookmark"]})})})]}),(0,c.jsxs)("div",{className:"font-medium text-sm px-3",children:[m," likes"]}),i&&(0,c.jsxs)("div",{className:"px-3 text-sm",children:[(0,c.jsx)("span",{className:"font-medium",children:o})," ",i]}),f.length&&f.length>3?(0,c.jsxs)("span",{className:"block text-gray-500 px-3 py-2 text-sm cursor-pointer",onClick:function(){return $(!0)},children:["View all ",f.length," comments"]}):"",f.length?f.slice(-3).map((function(e,s){return(0,c.jsxs)("div",{className:"px-3 ".concat(0!==s?"pt-2":""," text-sm"),children:[(0,c.jsx)("span",{className:"font-medium",children:e.userName})," ",e.comment,(0,c.jsx)("span",{className:"block float-right text-xs cursor-pointer ".concat(e.isLiked?"text-red-600":""),children:(0,c.jsx)(l.G,{icon:[e.isLiked?"fas":"far","heart"]})})]},e._id)})):"",(0,c.jsx)("div",{className:"text-gray-500 px-3 pt-2 pb-5 text-[0.65rem] tracking-wide",children:M()(h).fromNow()}),(0,c.jsxs)("div",{className:"px-3 py-2 flex flex-row border-t relative",children:[(0,c.jsx)("div",{className:"absolute top-0 left-0 h-full w-full text-center pt-3 ".concat(W?"block":"hidden"),children:(0,c.jsx)(l.G,{className:"fa-spin text-gray-400 text-2xl",icon:["fas","spinner"]})}),(0,c.jsx)("div",{className:"flex items-center",children:(0,c.jsx)("span",{className:"text-2xl cursor-pointer",children:(0,c.jsx)(l.G,{icon:["far","face-smile"]})})}),(0,c.jsx)("div",{className:"flex-1 pr-3 py-1",children:(0,c.jsx)("input",{className:"w-full px-3 py-1 text-sm bg-slate-50 outline-0",value:D,onChange:function(e){return _(e.target.value)},type:"text",placeholder:"Add a comment...",disabled:W})}),(0,c.jsx)("div",{className:"flex items-center text-sm",children:(0,c.jsx)("span",{className:" font-medium ".concat(D?"cursor-pointer text-sky-500":"text-sky-200"),onClick:function(){return se()},children:"Post"})})]})]})]})};(0,f.Ps)(W||(W=(0,h.Z)(["\n    mutation FollowMutation($idUser: ID!) {\n        followUser(id: $idUser) {\n            message\n            success\n        }\n    }\n"])));(0,f.Ps)(Q||(Q=(0,h.Z)(["\n    query getSuggestions {\n        suggestions {\n            id\n            username\n            image\n        }\n    }\n"])));var B,J,Y=r(5717),H=(0,f.Ps)(B||(B=(0,h.Z)(["\n    query GetStories {\n        getStories {\n            _id\n            userName\n            profileImage\n        }\n    }\n"])));r(3037),r(8688);function X(e){var s=(0,S.a)(H),r=s.loading,n=s.error,a=s.data,i=(0,t.useRef)();if(r)return(0,c.jsx)(y,{});if(n)return(0,c.jsx)("div",{children:"Error..."});return(0,c.jsxs)("div",{className:"relative mb-5",children:[(0,c.jsx)("div",{className:"absolute left-3 absolute top-1/2 -translate-y-1/2 z-10",children:(0,c.jsx)("a",{className:"bg-white text-gray-400 flex items-center justify-center rounded-full text-sm w-6 h-6 text-xs shadow-md cursor-pointer",onClick:function(){i.current.slickPrev()},children:(0,c.jsx)(l.G,{icon:"chevron-left"})})}),(0,c.jsx)("div",{className:"absolute right-3 absolute top-1/2 -translate-y-1/2 z-10",children:(0,c.jsx)("a",{className:"bg-white text-gray-400 flex items-center justify-center rounded-full text-sm w-6 h-6 text-xs shadow-md cursor-pointer",onClick:function(){i.current.slickNext()},children:(0,c.jsx)(l.G,{icon:"chevron-right"})})}),(0,c.jsx)(Y.Z,(0,F.Z)((0,F.Z)({className:"border border-slate-200 p-4"},{dots:!1,arrows:!1,infinite:!1,speed:400,slidesToShow:6,slidesToScroll:3}),{},{ref:i,children:a.getStories.map((function(e){return(0,c.jsx)("div",{children:(0,c.jsxs)("div",{className:"flex flex-col items-center space-y-1",children:[(0,c.jsx)("div",{className:"bg-gradient-to-tr from-yellow-400 to-purple-600 p-0.5 rounded-full",children:(0,c.jsx)("a",{className:"block bg-white p-0.5 rounded-full cursor-pointer",children:(0,c.jsx)("img",{className:"rounded-full w-16 h-16",src:e.profileImage})})}),(0,c.jsx)("a",{className:"cursor-pointer",children:(0,c.jsx)("div",{className:"text-xs text-center overflow-hidden text-ellipsis w-20",children:e.userName})})]})},e._id)}))}))]})}var K,ee=(0,f.Ps)(J||(J=(0,h.Z)(["\n    mutation LogoutMutation {\n        logout\n    }\n"]))),se=r(5046);function re(e){var s=(0,a.s0)(),r=(0,S.a)(z),t=r.loading,l=r.error,i=r.data,o=(0,S.a)(p),d=o.loading,x=o.error,m=o.data,u=(0,G.D)(ee),h=(0,n.Z)(u,1)[0],f=(0,se.x)();return d||t?(0,c.jsx)(y,{}):l||x?l?"Error while loading feed":"Error... while calling user data":(0,c.jsxs)("main",{className:"bg-zinc-50 grid grid-cols-3",children:[(0,c.jsxs)("div",{className:"md:px-12 lg:px-0 col-span-3 lg:col-span-2",children:[(0,c.jsx)(X,{}),i.getAllPosts.map((function(e){return(0,c.jsx)(V,{post:e,id:e._id,currentUserId:m.me._id,caption:e.caption,image:e.imageURL,username:e.user.userName,userImage:e.user.profileImage,likes:e.likes,created_time_ago:e.createdAt,comments:e.comments,postLikes:e.postLikes},e._id)}))]}),(0,c.jsx)("div",{className:"col-span-1 hidden lg:block",children:(0,c.jsxs)("div",{className:"fixed p-5 w-80",children:[(0,c.jsxs)("div",{className:"flex flex-row",children:[(0,c.jsx)("a",{href:"/".concat(m.me.userName),children:(0,c.jsx)("img",{className:"rounded-full",src:m.me.profileImage,width:"100",alt:"profile img"})}),(0,c.jsxs)("div",{className:"w-72 pl-2 m-auto",children:[(0,c.jsx)("div",{className:"text-sm font-medium",children:(0,c.jsx)(k.rU,{to:"/".concat(m.me.userName),children:m.me.username})}),(0,c.jsx)("div",{className:"text-gray-500 text-sm leading-4",children:m.me.fullName})]}),(0,c.jsx)("div",{className:"w-32 text-right m-auto",children:(0,c.jsx)("span",{className:"text-xs text-sky-500 font-bold cursor-pointer",onClick:function(){return j(f,s,h)},children:"Sign Out"})})]}),(0,c.jsx)(Z,{})]})})]})}var ne=(0,f.Ps)(K||(K=(0,h.Z)(["\n    mutation UpdateUser(\n        $name: String\n        $username: String\n        $bio: String\n        $website: String\n        $email: String\n        $phone: String\n    ) {\n        updateUser(\n            name: $name\n            username: $username\n            bio: $bio\n            website: $website\n            email: $email\n            phone: $phone\n        ) {\n            id\n            name\n            username\n            bio\n            website\n            email\n            phone\n        }\n    }\n"]))),te=r(9085);function ae(e){var s=(0,G.D)(ne),r=(0,n.Z)(s,1)[0],a=(0,t.useState)(!1),l=(0,n.Z)(a,2),i=l[0],o=l[1],d=(0,t.useState)(""),m=(0,n.Z)(d,2),h=m[0],f=m[1],j=(0,t.useState)(""),g=(0,n.Z)(j,2),N=g[0],b=g[1],v=(0,t.useState)(""),w=(0,n.Z)(v,2),k=w[0],Z=w[1],P=(0,t.useState)(""),C=(0,n.Z)(P,2),I=C[0],U=C[1],$=(0,t.useState)(""),A=(0,n.Z)($,2),F=A[0],L=A[1],D=(0,t.useState)(""),_=(0,n.Z)(D,2),O=_[0],E=_[1],R=(0,S.a)(p,{onCompleted:function(e){f(e.me.name),b(e.me.userName),Z(e.me.bio),U(e.me.website),L(e.me.email),E(e.me.phone)}}),z=R.loading,T=R.error,q=R.data,M=function(){var e=(0,x.Z)(u().mark((function e(){var s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h&&N&&F){e.next=3;break}return te.Am.error("You forgot to provide either a name, username or email"),e.abrupt("return");case 3:return console.log("name:",h),console.log("username:",N),console.log("email:",F),o(!0),e.prev=7,e.next=10,r({variables:{name:h,username:N,bio:k,website:I,email:F,phone:O}});case 10:te.Am.success("Profile updated"),o(!1),e.next=20;break;case 14:e.prev=14,e.t0=e.catch(7),o(!1),s=e.t0.graphQLErrors,console.log("graphQLErrors:",s),"validation"===s[0].extensions.category&&Object.keys(s[0].extensions.validation).forEach((function(e){te.Am.error(s[0].extensions.validation[e][0])}));case 20:case"end":return e.stop()}}),e,null,[[7,14]])})));return function(){return e.apply(this,arguments)}}();return z?(0,c.jsx)(y,{}):T?"Error...":(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:"flex flex-row",children:[(0,c.jsx)("div",{className:"w-1/3 p-3",children:(0,c.jsx)("a",{className:"float-right mr-5",href:"",children:(0,c.jsx)("img",{className:"rounded-full",src:q.me.profileImage,width:"40"})})}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h1",{className:"text-2xl",children:q.me.userName}),(0,c.jsx)("a",{href:"#",className:"text-sm text-sky-500 font-bold",children:"Change Profile Photo"})]})]}),(0,c.jsxs)("div",{className:"flex flex-row mt-5 items-center",children:[(0,c.jsx)("div",{className:"w-1/3 flex flex-row place-content-end align-center pr-8",children:(0,c.jsx)("label",{className:"m-0 p-0 align-baseline font-bold flex align-center",children:"Name"})}),(0,c.jsxs)("div",{className:"w-2/3 pr-10",children:[(0,c.jsx)("input",{type:"text",className:"border p-1 px-3 w-full ",placeholder:"Name",value:h,onChange:function(e){return f(e.target.value)}}),(0,c.jsx)("p",{className:"text-gray-400 text-xs",children:"Help people discover your account by using the name you're known by: either your full name, nickname, or business name."})]})]}),(0,c.jsxs)("div",{className:"flex flex-row mt-5 items-center",children:[(0,c.jsx)("div",{className:"w-1/3 flex flex-row place-content-end align-center pr-8",children:(0,c.jsx)("label",{className:"m-0 p-0 align-baseline font-bold flex align-center",children:"Username"})}),(0,c.jsx)("div",{className:"w-2/3 pr-10",children:(0,c.jsx)("input",{type:"text",className:"border p-1 px-3 w-full",placeholder:"Username",value:N,onChange:function(e){return b(e.target.value)}})})]}),(0,c.jsxs)("div",{className:"flex flex-row mt-5 items-center",children:[(0,c.jsx)("div",{className:"w-1/3 flex flex-row place-content-end align-center pr-8",children:(0,c.jsx)("label",{className:"m-0 p-0 align-baseline font-bold flex align-center",children:"Website"})}),(0,c.jsx)("div",{className:"w-2/3 pr-10",children:(0,c.jsx)("input",{type:"text",className:"border p-1 px-3 w-full",placeholder:"https://www.mywebsite.com",value:I,onChange:function(e){return U(e.target.value)}})})]}),(0,c.jsxs)("div",{className:"flex flex-row mt-5 items-center",children:[(0,c.jsx)("div",{className:"w-1/3 flex flex-row place-content-end align-center pr-8",children:(0,c.jsx)("label",{className:"m-0 p-0 align-baseline font-bold flex align-center",children:"Bio"})}),(0,c.jsx)("div",{className:"w-2/3 pr-10",children:(0,c.jsx)("textarea",{className:"border p-1 px-3 w-full",rows:"3",value:k,onChange:function(e){return Z(e.target.value)}})})]}),(0,c.jsxs)("div",{className:"flex flex-row mt-5 items-center",children:[(0,c.jsx)("div",{className:"w-1/3 flex flex-row place-content-end align-center pr-8",children:(0,c.jsx)("label",{className:"m-0 p-0 align-baseline font-bold flex align-center",children:"Email"})}),(0,c.jsx)("div",{className:"w-2/3 pr-10",children:(0,c.jsx)("input",{type:"text",className:"border p-1 px-3 w-full",placeholder:"Email",value:F,onChange:function(e){return L(e.target.value)}})})]}),(0,c.jsxs)("div",{className:"flex flex-row mt-5 items-center",children:[(0,c.jsx)("div",{className:"w-1/3 flex flex-row place-content-end align-center pr-8",children:(0,c.jsx)("label",{className:"m-0 p-0 align-baseline font-bold flex align-center",children:"Phone Number"})}),(0,c.jsx)("div",{className:"w-2/3 pr-10",children:(0,c.jsx)("input",{type:"text",className:"border p-1 px-3 w-full",placeholder:"Phone Number",value:O,onChange:function(e){return E(e.target.value)}})})]}),(0,c.jsxs)("div",{className:"flex flex-row mt-5 items-center",children:[(0,c.jsx)("div",{className:"w-1/3 flex flex-row place-content-end align-center pr-8"}),(0,c.jsx)("div",{className:"w-2/3 pr-10",children:(0,c.jsx)("button",{onClick:M,className:"bg-sky-500 text-white font-semibold py-1 px-2 rounded text-sm disabled:opacity-50",type:"submit",disabled:i,children:"Submit"})})]})]})}var le,ie=r(6307),ce=r(7118),oe=r(3174),de=r(1297),xe=r(8267);function me(e){var s=e.files,r=e.user,n=e.caption,t=e.handleCaptionChange;if(0!==s.length)return(0,c.jsxs)("div",{className:"flex",children:[(0,c.jsx)("div",{className:"w-3/4 overflow-hidden border-r",children:(0,c.jsx)("div",{className:"flex justify-center items-center h-[50rem] ",children:(0,c.jsx)("img",{src:s[0].preview,className:"h-[60rem] max-w-none"},s[0].name)})}),(0,c.jsx)("div",{className:"w-1/4",children:(0,c.jsxs)("div",{className:"p-3 border-b",children:[(0,c.jsx)("a",{href:"",className:"",children:(0,c.jsx)("span",{className:"font-medium text-sm ml-2",children:r.username})}),(0,c.jsx)("textarea",{type:"text",className:"p-1 px-0 mt-3 w-full outline-0 h-40",placeholder:"Write a caption...",onChange:t,value:n}),(0,c.jsxs)("div",{className:"flex",children:[(0,c.jsx)("div",{className:"w-3/6",children:(0,c.jsx)(l.G,{className:"text-gray-400 text-lg",icon:["far","face-smile"]})}),(0,c.jsx)("div",{className:"w-3/6 text-right",children:(0,c.jsx)("span",{className:"text-gray-200 text-sm",children:"0/200"})})]})]})})]})}var ue=(0,f.Ps)(le||(le=(0,h.Z)(["\n    mutation AddPost($caption: String!, $file: Upload!) {\n        uploadPost(file: $file, caption: $caption) {\n            message\n            success\n        }\n    }\n"])));function he(e){var s=(0,t.useState)(""),r=(0,n.Z)(s,2),d=r[0],x=r[1],m=(0,t.useState)(!1),u=(0,n.Z)(m,2),h=u[0],f=u[1],N=(0,t.useCallback)((function(e){U(e.map((function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})})))}),[]),b=(0,xe.uI)({onDrop:N}),v=b.getRootProps,w=b.getInputProps,Z=b.isDragActive,P=(0,t.useState)([]),C=(0,n.Z)(P,2),I=C[0],U=C[1],$=(0,S.a)(p),A=$.loading,L=$.error,D=$.data,_=(0,G.D)(ee),O=(0,n.Z)(_,1)[0],E=(0,se.x)(),R=(0,G.D)(ue,{onCompleted:function(e){return console.log(e)}}),z=(0,n.Z)(R,1)[0],T=(0,a.s0)();if(A)return(0,c.jsx)(y,{});if(L)return"Error...";var q=function(){return 0!==I.length};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(o,{title:"Create new post",open:h,setOpen:f,size:q()?"lg":"md",share:function(){z({variables:{file:I[0],caption:d},refetchQueries:[{query:p}]}),f(!1),T("/".concat(D.me.userName))},isFileDropped:q,children:q()?(0,c.jsx)("div",{className:"flex flex-col h-full",children:(0,c.jsx)(me,{user:D.me,caption:d,handleCaptionChange:function(e){x(e.target.value)},files:I})}):(0,c.jsxs)("div",(0,F.Z)((0,F.Z)({},v()),{},{className:"flex flex-col items-center justify-center h-full",children:[(0,c.jsx)("input",(0,F.Z)({},w())),(0,c.jsx)(l.G,{icon:"photo-film",className:"text-7xl ".concat(Z?"text-sky-500":"")}),(0,c.jsxs)("h2",{className:"py-3 text-2xl font-light",children:[" ","Drag photos and videos here"]}),(0,c.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white text-sm font-bold py-2 px-4 rounded mt-2",children:"Select from computer"})]}))}),(0,c.jsx)("nav",{className:"sticky top-0 min-h-fit bg-white w-full border border-b-1 z-50",children:(0,c.jsx)("div",{className:"container max-w-5xl",children:(0,c.jsxs)("div",{className:"flex flex-row py-1 items-center",children:[(0,c.jsx)("div",{className:"basis-1/2 pl-3 lg:p-0",children:(0,c.jsx)(k.rU,{to:"/",children:(0,c.jsx)("img",{className:"",src:"/images/JaiInsta-logo.png",width:"180",alt:"JaiInsta-logo"})})}),(0,c.jsx)("div",{className:"basis-1/2 hidden md:block",children:(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsx)(l.G,{icon:"magnifying-glass",className:"absolute left-3 top-3 text-gray-300"}),(0,c.jsx)("input",{id:"search",className:"p-2 bg-gray-100 rounded-lg w-80 pl-10 align-middle focus:outline-0 placeholder:font-light",placeholder:"Search",type:"text"})]})}),(0,c.jsx)("div",{className:"basis-1/2",children:(0,c.jsxs)("ul",{className:"flex flex-row space-x-4 p-2 text-2xl space-x-6 justify-end",children:[(0,c.jsx)("li",{children:(0,c.jsx)(k.rU,{to:"/",children:(0,c.jsx)(l.G,{icon:"house"})})}),(0,c.jsx)("li",{children:(0,c.jsx)("a",{children:(0,c.jsx)(l.G,{icon:["far","comment-dots"]})})}),(0,c.jsx)("li",{children:(0,c.jsx)("a",{className:"cursor-pointer",onClick:function(){return U([]),void f(!0)},children:(0,c.jsx)(l.G,{icon:["far","square-plus"]})})}),(0,c.jsx)("li",{children:(0,c.jsx)("a",{className:"cursor-pointer",children:(0,c.jsx)(l.G,{icon:["far","compass"]})})}),(0,c.jsx)("li",{children:(0,c.jsx)("a",{className:"cursor-pointer",children:(0,c.jsx)(l.G,{icon:["far","heart"]})})}),(0,c.jsx)("li",{children:(0,c.jsxs)(i.v2,{as:"div",className:"relative inline-block text-left",children:[(0,c.jsx)("div",{children:(0,c.jsx)(i.v2.Button,{className:"inline-block w-8 h-8 justify-center bg-white text-sm font-medium text-gray-700",children:(0,c.jsx)("img",{className:"rounded-full",src:D.me.profileImage,width:"32",alt:"profile"})})}),(0,c.jsx)(i.uT,{as:t.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,c.jsxs)(i.v2.Items,{className:"origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none divide-y divide-gray-100",children:[(0,c.jsxs)("div",{className:"py-1",children:[(0,c.jsx)(i.v2.Item,{children:function(e){var s=e.active;return(0,c.jsxs)(k.rU,{to:"/".concat(D.me.userName),className:g(s?"bg-gray-100 text-gray-900":"text-gray-700","block px-4 py-2 text-sm"),children:[(0,c.jsx)(l.G,{icon:"fa-solid fa-user",className:"mr-3"}),"Profile"]})}}),(0,c.jsx)(i.v2.Item,{children:function(e){var s=e.active;return(0,c.jsxs)("a",{className:g(s?"bg-gray-100 text-gray-900":"text-gray-700","block px-4 py-2 text-sm cursor-pointer"),children:[(0,c.jsx)(l.G,{icon:"fa-solid fa-bookmark",className:"mr-3"}),"Saved"]})}}),(0,c.jsx)(i.v2.Item,{children:function(e){var s=e.active;return(0,c.jsxs)(k.rU,{to:"/accounts/edit",className:g(s?"bg-gray-100 text-gray-900":"text-gray-700","block px-4 py-2 text-sm cursor-pointer"),children:[(0,c.jsx)(l.G,{icon:"fa-solid fa-gear",className:"mr-3"}),"Settings"]})}})]}),(0,c.jsx)("div",{className:"py-1",children:(0,c.jsx)(i.v2.Item,{children:function(e){var s=e.active;return(0,c.jsx)("a",{className:g(s?"bg-gray-100 text-gray-900":"text-gray-700","block w-full text-left px-4 py-2 text-sm cursor-pointer"),onClick:function(){return j(E,T,O)},children:"Log Out"})}})})]})})]})})]})})]})})})]})}function fe(e){var s=e.children;return localStorage.getItem("token")?s:(0,c.jsx)(a.Fg,{to:"/accounts/login",replace:!0})}var pe,je=function(e){return(0,c.jsx)(o,(0,F.Z)((0,F.Z)({},e),{},{size:"xs",children:(0,c.jsxs)("ul",{className:"w-full text-sm",children:[(0,c.jsx)("li",{children:(0,c.jsx)("a",{href:"#",className:"border-b text-center py-3 block",children:"Change Password"})}),(0,c.jsx)("li",{children:(0,c.jsx)("a",{href:"#",className:"border-b text-center py-3 block",children:"Nametag"})}),(0,c.jsx)("li",{children:(0,c.jsx)("a",{href:"#",className:"border-b text-center py-3 block",children:"Apps and Websites"})}),(0,c.jsxs)("li",{children:[(0,c.jsx)("a",{href:"#",className:"border-b text-center py-3 block",children:"Notifications"})," "]}),(0,c.jsxs)("li",{children:[(0,c.jsx)("a",{href:"#",className:"border-b text-center py-3 block",children:"Edit Profile"})," "]}),(0,c.jsx)("li",{children:(0,c.jsx)("a",{href:"#",className:"border-b text-center py-3 block",children:"Report a Problem"})}),(0,c.jsx)("li",{children:(0,c.jsx)("a",{href:"#",className:"border-b text-center py-3 block",children:"Log Out"})}),(0,c.jsx)("li",{children:(0,c.jsx)("a",{href:"#",onClick:function(){return e.setOpen(!1)},className:"text-center py-3 block",children:"Cancel"})})]})}))};r(5462);function ge(){var e=(0,S.a)(p),s=e.loading,r=e.error,n=e.data;return s?(0,c.jsx)(y,{}):r?"Error...":(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:"flex flex-row",children:[(0,c.jsx)("div",{className:"w-1/3 p-3",children:(0,c.jsx)("a",{className:"float-right mr-5",href:"",children:(0,c.jsx)("img",{className:"rounded-full",src:n.me.profileImage,width:"40"})})}),(0,c.jsx)("div",{className:"flex items-center",children:(0,c.jsx)("h1",{className:"text-2xl",children:n.me.userName})})]}),(0,c.jsxs)("div",{className:"flex flex-row mt-5 items-center",children:[(0,c.jsx)("div",{className:"w-1/3 flex flex-row place-content-end align-center pr-8",children:(0,c.jsx)("label",{className:"m-0 p-0 align-baseline font-bold flex align-center",children:"Password"})}),(0,c.jsx)("div",{className:"w-2/3 pr-10",children:(0,c.jsx)("input",{type:"text",className:"border p-2 px-3 w-full bg-gray-100 rounded",placeholder:"Password"})})]}),(0,c.jsxs)("div",{className:"flex flex-row mt-5 items-center",children:[(0,c.jsx)("div",{className:"w-1/3 flex flex-row place-content-end align-center pr-8",children:(0,c.jsx)("label",{className:"m-0 p-0 align-baseline font-bold flex align-center",children:"Confirm Password"})}),(0,c.jsx)("div",{className:"w-2/3 pr-10",children:(0,c.jsx)("input",{type:"text",className:"border p-2 px-3 w-full bg-gray-100 rounded",placeholder:"Confirm"})})]}),(0,c.jsxs)("div",{className:"flex flex-row mt-5 items-center",children:[(0,c.jsx)("div",{className:"w-1/3 flex flex-row place-content-end align-center pr-8"}),(0,c.jsx)("div",{className:"w-2/3 pr-10 mt-3",children:(0,c.jsx)("button",{className:"bg-sky-500 text-white font-semibold py-1 px-2 rounded text-sm",type:"submit",children:"Change Password"})})]})]})}var Ne=(0,f.Ps)(pe||(pe=(0,h.Z)(["\n    mutation registerUser($email: String!, $password: String!, $userName: String!, $fullName: String!) {\n      registerUser(\n        email: $profileImage\n        password: $password\n        userName: $userName\n        fullName: $fullName\n      ) {\n        token\n      }\n    }\n"])));function be(e){var s=(0,t.useState)(""),r=(0,n.Z)(s,2),l=r[0],i=r[1],o=(0,t.useState)(""),d=(0,n.Z)(o,2),m=d[0],h=d[1],f=(0,t.useState)(""),p=(0,n.Z)(f,2),j=p[0],g=p[1],N=(0,t.useState)(""),b=(0,n.Z)(N,2),v=b[0],w=b[1],y=(0,a.s0)(),k=(0,t.useState)(),S=(0,n.Z)(k,2),Z=S[0],P=S[1],C=(0,G.D)(Ne,{variables:{email:l,password:m,userName:j,fullName:v}}),I=(0,n.Z)(C,1)[0],U=function(){var e=(0,x.Z)(u().mark((function e(s){var r,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),e.prev=1,e.next=4,I();case 4:r=e.sent,n=r.data,localStorage.setItem("token",n.authUser.token),y("/"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),P(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(s){return e.apply(this,arguments)}}();return(0,c.jsx)("div",{className:"h-screen bg-gray-50 flex flex-col justify-center items-center",children:(0,c.jsxs)("div",{className:"flex flex-column",children:[(0,c.jsx)("div",{className:"pr-10 hidden md:block",children:(0,c.jsx)("img",{src:"/images/react-insta.jpg",width:"300",alt:"phone-img"})}),(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{className:"bg-white border border-gray-300 w-80 pt-10 pb-60 flex items-center flex-col mb-3 relative",children:[(0,c.jsx)("img",{src:"/images/JaiInsta-logo.png",width:"250",height:"150",alt:"logo-img"}),(0,c.jsxs)("form",{className:"mt-8 w-64 flex flex-col",onSubmit:U,children:[(0,c.jsx)("input",{autoFocus:!0,className:"text-xs w-full mb-4 rounded border bg-gray-100 border-gray-300 px-2 py-2 focus:outline-none focus:border-gray-400 active:outline-none",placeholder:"User Name",type:"text",value:j,onChange:function(e){return g(e.target.value)}}),(0,c.jsx)("input",{autoFocus:!0,className:"text-xs w-full mb-4 rounded border bg-gray-100 border-gray-300 px-2 py-2 focus:outline-none focus:border-gray-400 active:outline-none",placeholder:"Full Name",type:"text",value:v,onChange:function(e){return w(e.target.value)}}),(0,c.jsx)("input",{autoFocus:!0,className:"text-xs w-full mb-2 rounded border bg-gray-100 border-gray-300 px-2 py-2 focus:outline-none focus:border-gray-400 active:outline-none",placeholder:"Email",type:"text",value:l,onChange:function(e){return i(e.target.value)}}),(0,c.jsx)("input",{autoFocus:!0,className:"text-xs w-full mb-4 rounded border bg-gray-100 border-gray-300 px-2 py-2 focus:outline-none focus:border-gray-400 active:outline-none",placeholder:"Password",type:"password",value:m,onChange:function(e){return h(e.target.value)}}),(0,c.jsx)("button",{type:"submit",className:"text-sm text-center bg-blue-300 text-white py-1 rounded font-medium",children:"Sign Up"})]}),(0,c.jsx)("div",{className:"text-sm text-center text-red-500 absolute bottom-20 px-8 ".concat(Z?"":"hidden"),children:"You have entered wrong credentials. Please try again!"})]}),(0,c.jsxs)("div",{className:"bg-white border border-gray-300 text-center w-80 py-4",children:[(0,c.jsx)("span",{className:"text-sm",children:"Don't have an account?"}),(0,c.jsx)("a",{href:"login",className:"text-blue-500 text-sm font-semibold ml-1 cursor-pointer",children:"Sign In"})]})]})]})})}function ve(){var e=(0,t.useState)(!1),s=(0,n.Z)(e,2),r=s[0],l=s[1];return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(a.Z5,{children:[(0,c.jsx)(a.AW,{path:"/accounts/login",exact:!0,element:(0,c.jsx)($,{})}),(0,c.jsx)(a.AW,{path:"/accounts/register",exact:!0,element:(0,c.jsx)(be,{})}),(0,c.jsx)(a.AW,{path:"/",exact:!0,element:(0,c.jsxs)(fe,{children:[(0,c.jsx)(he,{}),(0,c.jsx)("div",{className:"container pt-8 max-w-5xl",children:(0,c.jsx)(re,{})})]})}),(0,c.jsx)(a.AW,{path:"/:username",element:(0,c.jsxs)(fe,{children:[(0,c.jsx)(he,{}),(0,c.jsx)("div",{className:"container pt-8 max-w-5xl",children:(0,c.jsx)(P,{setIsSettingsModalOpen:l})})]})}),(0,c.jsxs)(a.AW,{path:"/accounts",element:(0,c.jsxs)(fe,{children:[(0,c.jsx)(he,{}),(0,c.jsx)("div",{className:"container pt-8 max-w-5xl",children:(0,c.jsx)(C,{})})]}),children:[(0,c.jsx)(a.AW,{index:!0,element:(0,c.jsx)(a.Fg,{to:"edit",replace:!0})}),(0,c.jsx)(a.AW,{path:"edit",element:(0,c.jsx)(ae,{})}),(0,c.jsx)(a.AW,{path:"password",element:(0,c.jsx)(ge,{})})]})]}),(0,c.jsx)(je,{open:r,setOpen:l}),(0,c.jsx)(te.Ix,{theme:"dark",position:"bottom-center"})]})}ie.vI.add(ce.vnX,oe.mRB,de.NCV)}}]);
//# sourceMappingURL=445.67c66954.chunk.js.map